# -*- coding: utf-8 -*-
"""Session_5_Bivariate_MultiVariate_Analysis.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/10JXQcMnJdy7IP-9d43XmTcoobPY-62RR
"""

import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns

path='Visadataset.csv'
visa_df=pd.read_csv(path)
cat=visa_df.select_dtypes(include='object').columns
num=visa_df.select_dtypes(exclude='object').columns

# we have two columns
# continent and another columns is case_status
visa_df['continent'].value_counts()

visa_df['case_status'].value_counts()

# how many asia students got certified
# how many asia student got denied

# idea
# con1=visa_df['continent']=='Asia'
# con2=shortlist certified
# con=con1&con2
# extract the data len

con1=visa_df['continent']=='Asia'
con2=visa_df['case_status']=='Certified'
con=con1&con2
len(visa_df[con])

continent_labels=visa_df['continent'].unique()
certifid_list=[]
denied_list=[]
for i in continent_labels:
    con1=visa_df['continent']==i
    con2=visa_df['case_status']=='Certified'
    con3=visa_df['case_status']=='Denied'
    certi_con=con1&con2
    deni_con=con1&con3
    certifid_list.append(len(visa_df[certi_con]))
    denied_list.append(len(visa_df[deni_con]))
certifid_list,denied_list
pd.DataFrame(zip(certifid_list,denied_list),
             index=continent_labels,
             columns=['Certified','Denied'])

con=visa_df['case_status']=='Certified'
visa_df[con].groupby('continent').size()

col1=visa_df['continent']
col2=visa_df['case_status']
r1=pd.crosstab(col1,col2)

col1=visa_df['continent']
col2=visa_df['case_status']
r2=pd.crosstab(col2,col1)

r1.plot(kind='bar')

r2.plot(kind='bar')

# continent
# education of employee
# case_status

# there are 11k applicants certified from Asia
#   Now i want to know these 11k based on education

# select col1
# select col2
# select col3
# cols=[col2,col3]
# pd.crosstab(index,columns)
# pd.crosstab(col1,cols)

col1=visa_df['continent']
col2=visa_df['case_status']
col3=visa_df['education_of_employee']
cols=[col1,col2]
pd.crosstab(col3,cols)

col1=visa_df['continent']
col2=visa_df['case_status']
col3=visa_df['education_of_employee']
cols=[col3,col2]
pd.crosstab(col1,cols)

col1=visa_df['continent']
col2=visa_df['case_status']
col3=visa_df['education_of_employee']
cols=[col1,col3]
pd.crosstab(col2,cols)

"""**Numerical-Numerical**

"""

x=[1,2,3,4,5]
y=[1,2,3,4,5]
plt.scatter(x,y)
plt.plot(x,y)

#x=[i for i in range(1,10)]
x=list(range(-5,6))
y=[i**2 for i in x]
plt.scatter(x,y)
plt.plot(x,y)

num

col1=visa_df['no_of_employees']
col2=visa_df['yr_of_estab']
col3=visa_df['prevailing_wage']
plt.figure(figsize=(20,4))
plt.subplot(1,3,1).scatter(col1,col2)
plt.xlabel('no_of_employees')
plt.ylabel('yr_of_estab')
#=============================================
plt.subplot(1,3,2).scatter(col1,col3)
plt.xlabel('no_of_employees')
plt.ylabel('prevailing_wage')
#==================================================
plt.subplot(1,3,3).scatter(col2,col3)
plt.xlabel('yr_of_estab')
plt.ylabel('prevailing_wage')

"""**Correlation**

<img id="dimg_Z8PKaImQMKiQ4-EP7PSBgAc_343" src="data:image/png;base64,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" class="YQ4gaf" height="133" style="object-position:55% 33%" width="378" alt="Spearman Rank correlation in Excel ..." data-csiid="Z8PKaImQMKiQ4-EP7PSBgAc_25" data-atf="1">
"""

visa_df.corr(numeric_only=True)

"""**Heat map**"""

import seaborn as sns
corr=visa_df.corr(numeric_only=True)
sns.heatmap(corr,annot=True)

